<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ø°ÙƒÙŠ - PowerRent Pro</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        /* Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¹Ø§Ù… */
        header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.8em;
            font-weight: bold;
        }
        
        .nav-tabs {
            display: flex;
            background: #34495e;
            padding: 0;
        }
        
        .nav-tab {
            padding: 15px 30px;
            color: white;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }
        
        .nav-tab.active {
            background: #2c3e50;
            border-bottom: 3px solid #e74c3c;
        }
        
        .nav-tab:hover {
            background: #3d566e;
        }
        
        .tab-content {
            display: none;
            padding: 0;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Ø§Ù„ÙƒØ±ÙˆØª ÙˆØ§Ù„ØªØµÙ…ÙŠÙ…Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© */
        .card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #3498db;
            margin: 20px;
        }
        
        .card h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.4em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .data-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .data-label {
            font-weight: 600;
            color: #495057;
        }
        
        .data-value {
            font-weight: 700;
            color: #e74c3c;
        }
        
        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .controls {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        button {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: #3498db;
            color: white;
        }
        
        .btn-primary:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
        
        .btn-success {
            background: #27ae60;
            color: white;
        }
        
        .btn-success:hover {
            background: #219a52;
            transform: translateY(-2px);
        }
        
        .btn-warning {
            background: #f39c12;
            color: white;
        }
        
        .btn-warning:hover {
            background: #e67e22;
            transform: translateY(-2px);
        }
        
        /* Ù‚Ø³Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© */
        .accounting-section {
            background: #2c3e50;
            color: white;
            padding: 25px;
            margin: 20px;
            border-radius: 10px;
        }
        
        .transaction {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-right: 4px solid #3498db;
        }
        
        /* Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª */
        .notification {
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-right: 4px solid;
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .notification.warning {
            background: #fff3cd;
            border-right-color: #ffc107;
            color: #856404;
        }
        
        .notification.danger {
            background: #f8d7da;
            border-right-color: #dc3545;
            color: #721c24;
        }
        
        .notification.info {
            background: #d1ecf1;
            border-right-color: #17a2b8;
            color: #0c5460;
        }
        
        .notification.success {
            background: #d4edda;
            border-right-color: #28a745;
            color: #155724;
        }
        
        /* Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: right;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: #34495e;
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f5f5f5;
        }
        
        /* Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© Ø§Ù„Ù…Ø¨Ø³Ø·Ø© */
        .chart {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 1px solid #ddd;
        }
        
        .bar {
            height: 20px;
            background: linear-gradient(90deg, #3498db, #2980b9);
            margin: 10px 0;
            border-radius: 10px;
            transition: width 0.5s ease;
        }
        
        @media (max-width: 768px) {
            .data-grid {
                grid-template-columns: 1fr;
            }
            
            .nav-tabs {
                flex-direction: column;
            }
            
            .controls {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">âš¡ PowerRent Pro</div>
            <div class="user-info">
                <span id="currentUser">Ø´Ø±ÙƒØ© Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø°ÙƒÙŠØ© (Ø§Ù„Ù…Ø¤Ø¬Ø±)</span>
            </div>
        </header>
        
        <div class="nav-tabs">
            <div class="nav-tab active" onclick="switchTab('admin')">ğŸ¢ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… (Ø§Ù„Ù…Ø¤Ø¬Ø±)</div>
            <div class="nav-tab" onclick="switchTab('customer')">ğŸ‘¤ Ù„ÙˆØ­Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„</div>
            <div class="nav-tab" onclick="switchTab('notifications')">ğŸ”” Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙˆØ§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª</div>
        </div>

        <!-- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù…Ø¤Ø¬Ø± -->
        <div id="admin" class="tab-content active">
            <div class="card">
                <h3>ğŸ“Š Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆÙ„Ø¯Ø§Øª</h3>
                <div class="controls">
                    <button class="btn-primary" onclick="simulateAllGenerators()">
                        ğŸ² Ù…Ø­Ø§ÙƒØ§Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆÙ„Ø¯Ø§Øª
                    </button>
                    <button class="btn-success" onclick="calculateAllBills()">
                        ğŸ’° Ø­Ø³Ø§Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø´Ù‡Ø±ÙŠØ©
                    </button>
                    <button class="btn-warning" onclick="checkMaintenance()">
                        ğŸ”§ ÙØ­Øµ Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø§Ù„ØµÙŠØ§Ù†Ø©
                    </button>
                </div>
                
                <div class="data-grid" id="generatorsGrid">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª -->
                </div>
            </div>
            
            <div class="accounting-section">
                <h3>ğŸ§¾ Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´Ø±ÙƒØ§Øª</h3>
                <div id="adminAccountingEntries">
                    <div class="transaction">
                        <p>ğŸ”¹ ØªÙ… ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ - Ø¬Ø§Ù‡Ø² Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø¹Ù…ÙŠÙ„ -->
        <div id="customer" class="tab-content">
            <div class="card">
                <h3>ğŸ‘¤ Ù„ÙˆØ­Ø© Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„</h3>
                <div class="controls">
                    <select id="customerSelect" onchange="switchCustomerView()" style="padding: 12px; border-radius: 8px; border: 1px solid #ddd; flex: 1;">
                        <option value="company1">Ø´Ø±ÙƒØ© Ø§Ù„Ù†ÙˆØ± Ù„Ù„Ù…Ù‚Ø§ÙˆÙ„Ø§Øª</option>
                        <option value="company2">Ù…ØµÙ†Ø¹ Ø§Ù„Ø£Ù…Ù„ Ù„Ù„ØµÙ†Ø§Ø¹Ø§Øª</option>
                        <option value="company3">Ù…Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø³ØªØ´ÙÙŠØ§Øª Ø§Ù„ØªØ®ØµØµÙŠ</option>
                    </select>
                </div>
                
                <div id="customerView">
                    <!-- Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡Ø§ Ø­Ø³Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ù…Ø®ØªØ§Ø± -->
                </div>
            </div>
        </div>

        <!-- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
        <div id="notifications" class="tab-content">
            <div class="card">
                <h3>ğŸ”” Ù…Ø±ÙƒØ² Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙˆØ§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª</h3>
                <div class="controls">
                    <button class="btn-warning" onclick="generateMaintenanceAlerts()">
                        âš ï¸ Ø¥Ù†Ø´Ø§Ø¡ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª ØµÙŠØ§Ù†Ø©
                    </button>
                    <button class="btn-primary" onclick="generateUsageAlerts()">
                        ğŸ“ˆ Ø¥Ù†Ø´Ø§Ø¡ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ø³ØªØ®Ø¯Ø§Ù…
                    </button>
                </div>
                
                <div id="notificationsList">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„Ù†Ø¸Ø§Ù…
        const systemData = {
            companies: {
                company1: {
                    name: "Ø´Ø±ÙƒØ© Ø§Ù„Ù†ÙˆØ± Ù„Ù„Ù…Ù‚Ø§ÙˆÙ„Ø§Øª",
                    generators: [
                        { id: "GEN-001", hours: 0, energy: 0, rate: 70, depRate: 12, maintenanceHours: 0, totalHours: 0 }
                    ]
                },
                company2: {
                    name: "Ù…ØµÙ†Ø¹ Ø§Ù„Ø£Ù…Ù„ Ù„Ù„ØµÙ†Ø§Ø¹Ø§Øª", 
                    generators: [
                        { id: "GEN-002", hours: 0, energy: 0, rate: 65, depRate: 11, maintenanceHours: 0, totalHours: 0 },
                        { id: "GEN-003", hours: 0, energy: 0, rate: 65, depRate: 11, maintenanceHours: 0, totalHours: 0 }
                    ]
                },
                company3: {
                    name: "Ù…Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø³ØªØ´ÙÙŠØ§Øª Ø§Ù„ØªØ®ØµØµÙŠ",
                    generators: [
                        { id: "GEN-004", hours: 0, energy: 0, rate: 80, depRate: 15, maintenanceHours: 0, totalHours: 0 },
                        { id: "GEN-005", hours: 0, energy: 0, rate: 80, depRate: 15, maintenanceHours: 0, totalHours: 0 },
                        { id: "GEN-006", hours: 0, energy: 0, rate: 80, depRate: 15, maintenanceHours: 0, totalHours: 0 }
                    ]
                }
            },
            notifications: [],
            accountingEntries: []
        };

        // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªØ¨ÙˆÙŠØ¨
        function switchTab(tabName) {
            document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            document.querySelector(`.nav-tab[onclick="switchTab('${tabName}')"]`).classList.add('active');
            document.getElementById(tabName).classList.add('active');
            
            if(tabName === 'admin') updateAdminView();
            if(tabName === 'customer') switchCustomerView();
            if(tabName === 'notifications') updateNotificationsView();
        }

        // ØªØ­Ø¯ÙŠØ« Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¤Ø¬Ø±
        function updateAdminView() {
            const grid = document.getElementById('generatorsGrid');
            grid.innerHTML = '';
            
            for(const [companyKey, company] of Object.entries(systemData.companies)) {
                company.generators.forEach(generator => {
                    const revenue = generator.hours * generator.rate;
                    const depreciation = generator.hours * generator.depRate;
                    
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.innerHTML = `
                        <h3>âš¡ ${generator.id} - ${company.name}</h3>
                        <div class="data-item">
                            <span class="data-label">Ø³Ø§Ø¹Ø§Øª Ø§Ù„ØªØ´ØºÙŠÙ„:</span>
                            <span class="data-value">${generator.hours.toLocaleString()} Ø³Ø§Ø¹Ø©</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø©:</span>
                            <span class="data-value">${generator.energy.toLocaleString()} Ùƒ.Ùˆ.Ø³</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª:</span>
                            <span class="data-value">${revenue.toLocaleString()} Ø¬Ù†ÙŠÙ‡</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Ø³Ø§Ø¹Ø§Øª Ø§Ù„ØµÙŠØ§Ù†Ø© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©:</span>
                            <span class="data-value">${500 - (generator.totalHours % 500)} Ø³Ø§Ø¹Ø©</span>
                        </div>
                        <div class="chart">
                            <div>Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:</div>
                            <div class="bar" style="width: ${Math.min(100, (generator.hours / 300) * 100)}%"></div>
                        </div>
                    `;
                    grid.appendChild(card);
                });
            }
        }

        // Ù…Ø­Ø§ÙƒØ§Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆÙ„Ø¯Ø§Øª
        function simulateAllGenerators() {
            for(const company of Object.values(systemData.companies)) {
                company.generators.forEach(generator => {
                    const randomHours = Math.floor(Math.random() * 250) + 50;
                    generator.hours = randomHours;
                    generator.energy = randomHours * 50;
                    generator.totalHours += randomHours;
                    
                    addAccountingEntry(`ğŸ“¡ ${generator.id}: ØªÙ… ØªØ³Ø¬ÙŠÙ„ ${randomHours} Ø³Ø§Ø¹Ø© ØªØ´ØºÙŠÙ„`, 'admin');
                });
            }
            updateAdminView();
            addNotification('info', 'ğŸ”„ ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆÙ„Ø¯Ø§Øª Ù…Ù† Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø§Ø³ØªØ´Ø¹Ø§Ø±');
        }

        // Ø­Ø³Ø§Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙÙˆØ§ØªÙŠØ±
        function calculateAllBills() {
            let totalRevenue = 0;
            let totalDepreciation = 0;
            
            for(const company of Object.values(systemData.companies)) {
                company.generators.forEach(generator => {
                    const revenue = generator.hours * generator.rate;
                    const depreciation = generator.hours * generator.depRate;
                    
                    totalRevenue += revenue;
                    totalDepreciation += depreciation;
                    
                    addAccountingEntry(`ğŸ’° ${generator.id}: Ø¥ÙŠØ±Ø§Ø¯Ø§Øª ${revenue.toLocaleString()} Ø¬Ù†ÙŠÙ‡`, 'admin');
                    addAccountingEntry(`ğŸ“‰ ${generator.id}: Ø¥Ù‡Ù„Ø§Ùƒ ${depreciation.toLocaleString()} Ø¬Ù†ÙŠÙ‡`, 'admin');
                });
            }
            
            addAccountingEntry(`ğŸ“ˆ Ø¥Ø¬Ù…Ø§Ù„ÙŠ ØµØ§ÙÙŠ Ø§Ù„Ø¯Ø®Ù„: ${(totalRevenue - totalDepreciation).toLocaleString()} Ø¬Ù†ÙŠÙ‡`, 'admin');
            addNotification('success', 'âœ… ØªÙ… Ø­Ø³Ø§Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø´Ù‡Ø±ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­');
        }

        // ÙØ­Øµ Ø§Ù„ØµÙŠØ§Ù†Ø©
        function checkMaintenance() {
            for(const company of Object.values(systemData.companies)) {
                company.generators.forEach(generator => {
                    const remainingHours = 500 - (generator.totalHours % 500);
                    
                    if(remainingHours < 50) {
                        addNotification('warning', `âš ï¸ ${generator.id} ÙŠØ­ØªØ§Ø¬ ØµÙŠØ§Ù†Ø© Ø¹Ø§Ø¬Ù„Ø© (${remainingHours} Ø³Ø§Ø¹Ø© Ù…ØªØ¨Ù‚ÙŠØ©)`);
                    }
                    
                    if(generator.hours > 200) {
                        addNotification('info', `ğŸ“Š ${generator.id} Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ù…Ø±ØªÙØ¹ Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±: ${generator.hours} Ø³Ø§Ø¹Ø©`);
                    }
                });
            }
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù…ÙŠÙ„
        function switchCustomerView() {
            const companyKey = document.getElementById('customerSelect').value;
            const company = systemData.companies[companyKey];
            const view = document.getElementById('customerView');
            
            let html = `
                <h4>ğŸ¢ ${company.name}</h4>
                <div class="data-grid">
            `;
            
            company.generators.forEach(generator => {
                const cost = generator.hours * generator.rate;
                const avgUsage = company.generators.reduce((sum, gen) => sum + gen.hours, 0) / company.generators.length;
                const isHighUsage = generator.hours > avgUsage * 1.2;
                
                html += `
                    <div class="card">
                        <h3>âš¡ ${generator.id}</h3>
                        <div class="data-item">
                            <span class="data-label">Ø§Ø³ØªÙ‡Ù„Ø§ÙƒÙƒ Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±:</span>
                            <span class="data-value">${generator.hours} Ø³Ø§Ø¹Ø©</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø©:</span>
                            <span class="data-value">${cost.toLocaleString()} Ø¬Ù†ÙŠÙ‡</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Ù…ØªÙˆØ³Ø· Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ:</span>
                            <span class="data-value">${avgUsage.toFixed(0)} Ø³Ø§Ø¹Ø©</span>
                        </div>
                        ${isHighUsage ? `
                        <div class="notification warning">
                            âš ï¸ Ø§Ø³ØªÙ‡Ù„Ø§ÙƒÙƒ Ø£Ø¹Ù„Ù‰ Ù…Ù† Ø§Ù„Ù…ØªÙˆØ³Ø· - ÙŠØ±Ø¬Ù‰ ØªØ±Ø´ÙŠØ¯ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
                        </div>
                        ` : ''}
                        ${generator.totalHours % 500 > 450 ? `
                        <div class="notification danger">
                            ğŸ”§ Ø§Ù„Ù…ÙˆÙ„Ø¯ Ø¨Ø­Ø§Ø¬Ø© Ù„ØµÙŠØ§Ù†Ø© Ù‚Ø±ÙŠØ¨Ø© - ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¯Ø¹Ù…
                        </div>
                        ` : ''}
                    </div>
                `;
            });
            
            html += `</div>`;
            view.innerHTML = html;
        }

        // Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function addNotification(type, message) {
            systemData.notifications.unshift({
                type,
                message,
                timestamp: new Date().toLocaleString('ar-EG'),
                read: false
            });
            updateNotificationsView();
        }

        function updateNotificationsView() {
            const list = document.getElementById('notificationsList');
            list.innerHTML = '';
            
            systemData.notifications.forEach(notification => {
                const div = document.createElement('div');
                div.className = `notification ${notification.type}`;
                div.innerHTML = `
                    <strong>${notification.message}</strong>
                    <div style="font-size: 0.8em; margin-top: 5px; opacity: 0.7;">${notification.timestamp}</div>
                `;
                list.appendChild(div);
            });
        }

        function generateMaintenanceAlerts() {
            systemData.companies.company1.generators[0].totalHours = 2480;
            addNotification('danger', 'ğŸ”§ GEN-001: Ø§Ù„Ù…ÙˆÙ„Ø¯ ØªØ¬Ø§ÙˆØ² 2500 Ø³Ø§Ø¹Ø© - ØµÙŠØ§Ù†Ø© Ø¹Ø§Ø¬Ù„Ø© Ù…Ø·Ù„ÙˆØ¨Ø©!');
            addNotification('warning', 'âš ï¸ GEN-002: 50 Ø³Ø§Ø¹Ø© Ù…ØªØ¨Ù‚ÙŠØ© Ù„Ù„ØµÙŠØ§Ù†Ø© Ø§Ù„Ø¯ÙˆØ±ÙŠØ©');
        }

        function generateUsageAlerts() {
            addNotification('info', 'ğŸ“ˆ GEN-004: Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ù…Ù†Ø®ÙØ¶ Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø± - 60 Ø³Ø§Ø¹Ø© ÙÙ‚Ø·');
            addNotification('warning', 'âš¡ GEN-003: Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ù…Ø±ØªÙØ¹ - 280 Ø³Ø§Ø¹Ø© (Ø£Ø¹Ù„Ù‰ Ù…Ù† Ø§Ù„Ù…ØªÙˆØ³Ø·)');
        }

        // Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©
        function addAccountingEntry(message, tab = 'admin') {
            const entry = {
                message,
                timestamp: new Date().toLocaleString('ar-EG'),
                tab
            };
            
            systemData.accountingEntries.unshift(entry);
            
            const targetElement = tab === 'admin' ? 'adminAccountingEntries' : 'customerAccountingEntries';
            const element = document.getElementById(targetElement);
            if(element) {
                const div = document.createElement('div');
                div.className = 'transaction';
                div.innerHTML = `<p>${message} - <small>${entry.timestamp}</small></p>`;
                element.appendChild(div);
            }
        }

        // Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
        document.addEventListener('DOMContentLoaded', function() {
            addAccountingEntry('ğŸš€ Ø¨Ø¯Ø¡ ØªØ´ØºÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„', 'admin');
            addAccountingEntry('ğŸ”— Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù…Ù†ØµØ© IoT Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠØ©', 'admin');
            addNotification('info', 'ğŸ‘‹ Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù†Ø¸Ø§Ù… PowerRent Pro');
            updateAdminView();
            switchCustomerView();
        });
    </script>
</body>
</html>